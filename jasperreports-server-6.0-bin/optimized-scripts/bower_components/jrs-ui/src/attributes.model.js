if(!jaspersoft)var jaspersoft={};jaspersoft.attributes||(jaspersoft.attributes={}),function(t,e,n,i,r){i.settings={MAX_LENGTH_OF_NAME:255,MAX_LENGTH_OF_VALUE:255},i.Attribute=n.Model.extend({sync:function(t,e,i){return i||(i={}),i.async=!1,n.sync(t,e,i)},url:function(){var t=encodeURIComponent(this.id).replace("'","%27");return t=t.replace("'","%27"),this.collection.url(this.isNew()?"":t)},validate:function(t){if(""===t.name||/^\s*$/.test(t.name))return"attribute.name.empty";if(""===t.value||/^\s*$/.test(t.value))return"attribute.value.empty";if(t.name&&t.name.length>i.settings.MAX_LENGTH_OF_NAME)return"attribute.name.too.long";if(t.value&&t.value.length>i.settings.MAX_LENGTH_OF_VALUE)return"attribute.value.too.long";if(t.name&&/[\\\/]/.test(t.name))return"attribute.name.invalid";if(this.collection&&t.name)for(var e=0,n=this.collection.models.length;n>e;e++)if(this.cid!==this.collection.models[e].cid&&this.collection.models[e].get("name")===t.name)return"attribute.name.already.exist"}},{instance:function(){var t=new this;return t}}),i.Attributes=n.Collection.extend({model:i.Attribute,parse:function(t){return t&&t.attribute?t.attribute:[]},url:function(t){return r.renderUrl(this.urlTemplate,e.extend({},this.context,{modelId:t}),!0)},isValid:function(){for(var t=0,e=this.models.length;e>t;t++)if(!this.models[t].isValid())return!1;return!0}},{instance:function(t){var e=new this;return e.urlTemplate=t.urlTemplate,e}})}(jQuery,_,Backbone,jaspersoft.attributes,JRS.Controls.TemplateEngine);